<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>InterfaceAI</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      
      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
        width: 380px;
        margin: 0;
        padding: 0;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: #1a1a1a;
      }
      
      .container {
        background: #ffffff;
        border-radius: 16px;
        margin: 16px;
        padding: 20px;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
      }
      
      .header {
        display: flex;
        align-items: center;
        gap: 12px;
        margin-bottom: 20px;
        padding-bottom: 16px;
        border-bottom: 2px solid #f0f0f0;
      }
      
      .logo {
        width: 40px;
        height: 40px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 24px;
        box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
      }
      
      .title {
        font-size: 22px;
        font-weight: 700;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }
      
      .info-banner {
        background: linear-gradient(135deg, #e0f2fe 0%, #dbeafe 100%);
        padding: 12px 14px;
        border-radius: 10px;
        margin-bottom: 16px;
        font-size: 11px;
        color: #1e40af;
        border: 1px solid #bfdbfe;
        line-height: 1.5;
        box-shadow: 0 2px 8px rgba(30, 64, 175, 0.1);
      }
      
      .info-banner strong {
        color: #1e3a8a;
      }
      
      input {
        width: 100%;
        padding: 12px 16px;
        border: 2px solid #e5e7eb;
        border-radius: 10px;
        font-size: 14px;
        margin-bottom: 16px;
        transition: all 0.3s ease;
        font-family: inherit;
      }
      
      input:focus {
        outline: none;
        border-color: #667eea;
        box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);
      }
      
      input::placeholder {
        color: #9ca3af;
      }
      
      button {
        padding: 12px 16px;
        border: none;
        border-radius: 10px;
        font-size: 14px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.2s ease;
        color: white;
        font-family: inherit;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      }
      
      button:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      }
      
      button:active {
        transform: translateY(0);
      }
      
      .actions-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 10px;
        margin-bottom: 16px;
      }
      
      #clickBtn {
        background: linear-gradient(135deg, #10b981 0%, #059669 100%);
      }
      
      #fillBtn {
        background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
      }
      
      #searchBtn {
        background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
        grid-column: span 2;
      }
      
      #fullAutoBtn {
        background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
        grid-column: span 2;
        font-size: 15px;
        padding: 14px 16px;
      }
      
      details {
        margin-bottom: 16px;
        font-size: 12px;
        color: #6b7280;
        background: #f9fafb;
        border-radius: 10px;
        padding: 12px;
        border: 1px solid #e5e7eb;
      }
      
      summary {
        cursor: pointer;
        font-weight: 600;
        color: #4b5563;
        user-select: none;
      }
      
      summary:hover {
        color: #667eea;
      }
      
      details ul {
        margin: 12px 0 0 0;
        padding-left: 20px;
        line-height: 1.8;
      }
      
      details li strong {
        color: #374151;
      }
      
      .steps-section {
        margin-bottom: 16px;
        animation: slideIn 0.3s ease;
      }
      
      @keyframes slideIn {
        from {
          opacity: 0;
          transform: translateY(-10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      
      .steps-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 12px;
        gap: 8px;
        flex-wrap: wrap;
      }
      
      .steps-header h4 {
        font-size: 15px;
        font-weight: 700;
        color: #1f2937;
      }
      
      .steps-controls {
        display: flex;
        gap: 6px;
      }
      
      .steps-controls button {
        padding: 6px 10px;
        font-size: 11px;
        font-weight: 600;
        box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);
      }
      
      #clearStepsBtn {
        background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
      }
      
      #resetStepsBtn {
        background: linear-gradient(135deg, #6b7280 0%, #4b5563 100%);
      }
      
      #nextStepBtn {
        background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
        padding: 6px 14px;
        font-size: 12px;
      }
      
      #executeStepsBtn {
        background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        padding: 6px 14px;
        font-size: 12px;
      }
      
      #stepsList {
        background: #f9fafb;
        border: 2px solid #e5e7eb;
        border-radius: 10px;
        padding: 12px;
        max-height: 240px;
        overflow-y: auto;
      }
      
      #stepsList::-webkit-scrollbar {
        width: 6px;
      }
      
      #stepsList::-webkit-scrollbar-track {
        background: #f1f5f9;
        border-radius: 10px;
      }
      
      #stepsList::-webkit-scrollbar-thumb {
        background: #cbd5e1;
        border-radius: 10px;
      }
      
      #stepsList::-webkit-scrollbar-thumb:hover {
        background: #94a3b8;
      }
      
      #out {
        padding: 12px 16px;
        background: #f9fafb;
        border-radius: 10px;
        min-height: 48px;
        font-size: 13px;
        line-height: 1.6;
        border: 2px solid #e5e7eb;
        white-space: pre-wrap;
        word-wrap: break-word;
      }
      
      #out:empty {
        display: none;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <div class="logo">ü§ñ</div>
        <div class="title">InterfaceAI</div>
      </div>
      
      <div class="info-banner">
        üí° <strong>Auto-save enabled:</strong> Your steps are saved automatically! If the popup closes, just reopen it and your progress will be restored. You can also pin the popup using the <strong>üìå icon</strong> at top-right.
      </div>
      
      <!-- Input field -->
      <input id="msg" type="text" placeholder="‚ú® Enter command or task..." />
      
      <!-- Action buttons -->
      <div class="actions-grid">
        <button id="clickBtn">üñ±Ô∏è Click Button</button>
        <button id="fillBtn">‚úçÔ∏è Fill Textbox</button>
        <button id="searchBtn">üîç Search Google</button>
        <button id="fullAutoBtn">ü§ñ Full Auto (AI)</button>
      </div>
      
      <!-- Instructions -->
      <details>
        <summary>üìñ How to use</summary>
        <ul>
          <li><strong>Click Button:</strong> Type button text (e.g., "Submit")</li>
          <li><strong>Fill Textbox:</strong> Type "field_name|text" (e.g., "email|test@test.com")</li>
          <li><strong>Search Google:</strong> Type search query, clicks first result</li>
          <li><strong>Full Auto (AI):</strong> Type complex task (e.g., "post on Instagram"), AI generates steps</li>
        </ul>
      </details>
      
      <!-- Generated Steps Section (hidden by default) -->
      <div id="stepsSection" class="steps-section" style="display: none;">
        <div class="steps-header">
          <h4>üìã Generated Steps</h4>
          <div class="steps-controls">
            <button id="clearStepsBtn">üóëÔ∏è Clear</button>
            <button id="resetStepsBtn">üîÑ Reset</button>
            <button id="nextStepBtn">‚û°Ô∏è Next</button>
            <button id="executeStepsBtn">‚ñ∂ Execute All</button>
          </div>
        </div>
        <div id="stepsList"></div>
      </div>
      
      <!-- Output -->
      <div id="out"></div>
    </div>
    
    <script src="popup.js"></script>
  </body>
</html>
